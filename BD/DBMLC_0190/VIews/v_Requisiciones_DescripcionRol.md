# View: v_Requisiciones_DescripcionRol

## Usa los objetos:
- [[AspNetRoles]]

```sql

CREATE VIEW [dbo].[v_Requisiciones_DescripcionRol] AS
SELECT IdRol = Id, NombreRol = Name, CodTipoUsuario, TipoUsuario
FROM
(
	SELECT Id, Name,
		CASE WHEN Name = 'REQUISICION-ADMINISTRADOR' THEN 1
			WHEN Name = 'REQUISICION-JEFES' THEN 2
			WHEN Name = 'REQUISICION-GERENTE-DE-LINEA' THEN 3
			WHEN Name = 'REQUISICION-GERENTE-USC' THEN 4
			WHEN Name = 'REQUISICION-GESTION-HUMANA' OR Name = 'REQUISICION-GESTION-HUMANA-ASISTENTE' THEN 5
			WHEN Name = 'REQUISICION-JEFE-NOMINA' OR Name = 'REQUISICION-NOMINA' THEN 6
			WHEN Name = 'REQUISICION-RECLUTADOR' THEN 7
			WHEN Name = 'REQUISICION-AUTORIZACION-SALARIOS' THEN 8
			WHEN Name = 'REQUISICION-COMPENSACION-Y-BENEFICIOS' THEN 9
			WHEN Name = 'REQUISICION-DOTACION' OR Name = 'REQUISICION-INFORMES' THEN 10
			WHEN Name = 'REQUISICION-ENTREVISTADOR' THEN 11
			WHEN Name = 'REQUISICION-ADMINISTRAR-SALARIOS-BENEFICICIOS' THEN 12

			ELSE 0 END CodTipoUsuario,
		
		CASE WHEN Name = 'REQUISICION-JEFES' THEN 'Jefe' 
			WHEN Name = 'REQUISICION-GERENTE-DE-LINEA' THEN 'Gte. Línea' 
			WHEN Name = 'REQUISICION-GERENTE-USC' THEN 'Gte. USC' 
			WHEN Name = 'REQUISICION-RECLUTADOR' THEN 'Reclutador' 
			WHEN Name = 'REQUISICION-JEFE-NOMINA' OR Name = 'REQUISICION-NOMINA' THEN 'Nómina' 
			WHEN Name = 'REQUISICION-GESTION-HUMANA' OR Name = 'REQUISICION-GESTION-HUMANA-ASISTENTE' THEN 'Gestión Humana' 
			WHEN Name = 'REQUISICION-ADMINISTRADOR' THEN 'Administrador' 
			WHEN Name = 'REQUISICION-AUTORIZACION-SALARIOS' THEN 'Autorizador Salarios'
			WHEN Name = 'REQUISICION-COMPENSACION-Y-BENEFICIOS' THEN 'Autorizador CB y N'
			WHEN Name = 'REQUISICION-DOTACION' OR Name = 'REQUISICION-INFORMES' THEN 'Informes'
			WHEN Name = 'REQUISICION-ENTREVISTADOR' THEN 'Entrevistador'
			WHEN Name = 'REQUISICION-ADMINISTRAR-SALARIOS-BENEFICICIOS' THEN 'Administrador Salarios y Beneficios'
			ELSE 'Sin Definición' END TipoUsuario
	FROM AspNetRoles 
	WHERE Name LIKE 'REQUISICION-%' AND Name NOT LIKE '%PERSONAL%'

	UNION ALL

	SELECT Id, Name, CodTipoUsuario = 1, TipoUsuario = 'Administrador'
	FROM AspNetRoles 
	WHERE Name = 'ADMINISTRADOR'
) A

```
